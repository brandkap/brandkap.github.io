#!/usr/bin/env bash

REPO="$(dirname "$(dirname "$(realpath "${BASH_SOURCE[0]}")")")"

# Build once before starting the watch loop
npm run build

until
    (ls "${REPO}/styles.css"; fd '\.(html|js|md|scss)$' "${REPO}" --type f) | entr -dp npm run build
do
    :
done
